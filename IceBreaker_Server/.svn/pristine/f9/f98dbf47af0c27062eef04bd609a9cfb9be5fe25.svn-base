package team.mosaic.icebreaker.playerstructure;

import java.io.IOException;

import team.mosaic.icebreaker.vo.GroupVO;
import team.mosaic.icebreaker.vo.MessageVO;

public class CooperationFoursome {

	private int step;
	private Player p1;
	private Player p2;
	private Player p3;
	private Player p4;
	private MessageVO startMessage;
	
	public CooperationFoursome(Player p1,Player p2,Player p3,Player p4){
		step = 1;
		this.p1 = p1;
		this.p2 = p2;
		this.p3 = p3;
		this.p4 = p4;
		startMessage = new MessageVO("foursomecoop",new GroupVO(p1.getID(), p2.getID(), p3.getID(), p4.getID()));
		link();
	}
	/**
	 * 四个玩家建立连接
	 */
	private void link(){
		p1.setCooperationFoursome(this);
		p2.setCooperationFoursome(this);
		p3.setCooperationFoursome(this);
		p4.setCooperationFoursome(this);
		try {
			p1.sendMessage(startMessage);
			p2.sendMessage(startMessage);
			p3.sendMessage(startMessage);
			p4.sendMessage(startMessage);
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
	/**
	 * 断开连接
	 */
	public void dismiss(){
		p1.setCooperationFoursome(null);
		p2.setCooperationFoursome(null);
		p3.setCooperationFoursome(null);
		p4.setCooperationFoursome(null);
	}
	/**
	 * 结算结果
	 */
	public void end(){
		
	}
	/**
	 * 同步用户游戏操作
	 */
	public void synchronize(){
		
	}
	
}
